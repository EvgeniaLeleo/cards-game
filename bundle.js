(()=>{"use strict";function e(e){return e.concat(e)}function t(e){for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function n(e){e.userTimeSekMin[0]++;const t=document.querySelector(".timer__count_sek"),n=document.querySelector(".timer__count_min");t.textContent="0"+e.userTimeSekMin[0],10<=e.userTimeSekMin[0]&&e.userTimeSekMin[0]<=59&&(t.textContent=e.userTimeSekMin[0]),60===e.userTimeSekMin[0]&&(t.textContent="00",e.userTimeSekMin[0]=0,e.userTimeSekMin[1]++,n.textContent="0"+e.userTimeSekMin[1],10<=e.userTimeSekMin[1]&&e.userTimeSekMin[1]<=59&&(n.textContent=e.userTimeSekMin[1]),60===e.userTimeSekMin[1]&&(t.textContent="00",n.textContent="00",e.userTimeSekMin[0]=0,e.userTimeSekMin[1]=0))}function a(){let e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].innerHTML='<img src="img/back.png" alt="Card back" />',e[t].style.transform="rotateY(-180deg) scale(-1, 1)",e[t].setAttribute("style","pointer-events: auto;"),e[t].style.cursor="pointer"}function s(){let e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].innerHTML='<img class="img-child" src="img/back.png" alt="Card back" />',e[t].style.transform="rotateY(-180deg) scale(-1, 1)",e[t].setAttribute("style","pointer-events: auto;"),e[t].style.cursor="pointer"}function d(){let e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].style.transform="rotateY(-180deg) scale(-1, 1)",e[t].setAttribute("style","pointer-events: auto;"),e[t].style.cursor="pointer",e[t].style.background="#c8e7ff"}function i(e){return`<div class="card__content">\n  <div class="card__info card__info_top">\n    <div class="card__text">${e.text}</div>\n    <img\n      class="card__suit"\n      src="${e.suit}"\n      alt="${e.name}"\n    />\n  </div>\n  <div class="card__center">\n    <img src="${e.suit}"\n    alt="${e.name}" />\n  </div>\n  <div class="card__info card__info_bottom">\n    <div class="card__text">${e.text}</div>\n    <img\n      class="card__suit"\n      src="${e.suit}"\n      alt="${e.name} "\n    />\n  </div>\n  </div>\n  </div>`}function o(){const e=document.createElement("div");e.classList.add("shadow");const t=document.createElement("form");t.classList.add("form","form__win");const n=document.createElement("img");n.classList.add("img-win"),n.src="img/win.png";const a=document.createElement("h2");a.classList.add("h2-title"),a.textContent="Вы выиграли!";const s=document.createElement("p");s.classList.add("final-text"),s.textContent="Затраченное время:";const d=document.querySelector(".timer__count_min"),i=document.querySelector(".timer__count_sek"),o=document.createElement("p");o.classList.add("final-time"),o.textContent=d.textContent+"."+i.textContent;const r=document.createElement("button");r.classList.add("button"),r.textContent="Играть снова";const p=document.querySelector(".screen-container");p.appendChild(e),p.appendChild(t),t.appendChild(n),t.appendChild(a),t.appendChild(s),t.appendChild(o),t.appendChild(r),t.addEventListener("submit",(e=>{e.preventDefault(),p.innerHTML="",w(p)}))}function r(){const e=document.createElement("div");e.classList.add("shadow");const t=document.createElement("form");t.classList.add("form","form__lose");const n=document.createElement("img");n.classList.add("img-lose"),n.src="img/lose.png";const a=document.createElement("h2");a.classList.add("h2-title"),a.textContent="Вы проиграли!";const s=document.createElement("p");s.classList.add("final-text"),s.textContent="Затраченное время:";const d=document.querySelector(".timer__count_min"),i=document.querySelector(".timer__count_sek"),o=document.createElement("p");o.classList.add("final-time"),o.textContent=d.textContent+"."+i.textContent;const r=document.createElement("button");r.classList.add("button"),r.textContent="Играть снова";const p=document.querySelector(".screen-container");p.appendChild(e),p.appendChild(t),t.appendChild(n),t.appendChild(a),t.appendChild(s),t.appendChild(o),t.appendChild(r),t.addEventListener("submit",(e=>{e.preventDefault(),p.innerHTML="",w(p)}))}const p=JSON.parse('[{"name":"diamonds6","text":"6","img":"img/diamonds6.png","suit":"img/diamonds.png"},{"name":"diamonds7","text":"7","img":"img/diamonds7.png","suit":"img/diamonds.png"},{"name":"diamonds8","text":"8","img":"img/diamonds8.png","suit":"img/diamonds.png"},{"name":"diamonds9","text":"9","img":"img/diamonds9.png","suit":"img/diamonds.png"},{"name":"diamonds10","text":"10","img":"img/diamonds10.png","suit":"img/diamonds.png"},{"name":"diamondsJ","text":"J","img":"img/diamonds-j.png","suit":"img/diamonds.png"},{"name":"diamonds-Q","text":"Q","img":"img/diamonds-q.png","suit":"img/diamonds.png"},{"name":"diamondsK","text":"K","img":"img/diamonds-k.png","suit":"img/diamonds.png"},{"name":"diamondsA","text":"A","img":"img/diamonds-a.png","suit":"img/diamonds.png"},{"name":"spades6","text":"6","img":"img/spades6.png","suit":"img/spades.png"},{"name":"spades7","text":"7","img":"img/spades7.png","suit":"img/spades.png"},{"name":"spades8","text":"8","img":"img/spades8.png","suit":"img/spades.png"},{"name":"spades9","text":"9","img":"img/spades9.png","suit":"img/spades.png"},{"name":"spades10","text":"10","img":"img/spades10.png","suit":"img/spades.png"},{"name":"spadesJ","text":"J","img":"img/spades-j.png","suit":"img/spades.png"},{"name":"spades-Q","text":"Q","img":"img/spades-q.png","suit":"img/spades.png"},{"name":"spadesK","text":"K","img":"img/spades-k.png","suit":"img/spades.png"},{"name":"spadesA","text":"A","img":"img/spades-a.png","suit":"img/spades.png"},{"name":"hearts6","text":"6","img":"img/hearts6.png","suit":"img/hearts.png"},{"name":"hearts7","text":"7","img":"img/hearts7.png","suit":"img/hearts.png"},{"name":"hearts8","text":"8","img":"img/hearts8.png","suit":"img/hearts.png"},{"name":"hearts9","text":"9","img":"img/hearts9.png","suit":"img/hearts.png"},{"name":"hearts10","text":"10","img":"img/hearts10.png","suit":"img/hearts.png"},{"name":"heartsJ","text":"J","img":"img/hearts-j.png","suit":"img/hearts.png"},{"name":"hearts-Q","text":"Q","img":"img/hearts-q.png","suit":"img/hearts.png"},{"name":"heartsK","text":"K","img":"img/hearts-k.png","suit":"img/hearts.png"},{"name":"heartsA","text":"A","img":"img/hearts-a.png","suit":"img/hearts.png"},{"name":"clubs6","text":"6","img":"img/clubs6.png","suit":"img/clubs.png"},{"name":"clubs7","text":"7","img":"img/clubs7.png","suit":"img/clubs.png"},{"name":"clubs8","text":"8","img":"img/clubs8.png","suit":"img/clubs.png"},{"name":"clubs9","text":"9","img":"img/clubs9.png","suit":"img/clubs.png"},{"name":"clubs10","text":"10","img":"img/clubs10.png","suit":"img/clubs.png"},{"name":"clubsJ","text":"J","img":"img/clubs-j.png","suit":"img/clubs.png"},{"name":"clubs-Q","text":"Q","img":"img/clubs-q.png","suit":"img/clubs.png"},{"name":"clubsK","text":"K","img":"img/clubs-k.png","suit":"img/clubs.png"},{"name":"clubsA","text":"A","img":"img/clubs-a.png","suit":"img/clubs.png"}]');function c(s){window.app.userTimeSekMin=[0,0],window.app.guessedPairs=[],window.app.userCards=[],window.app.userTargets=[],window.app.attempts=0,clearTimeout(window.app.delay),clearInterval(window.app.stopwatch),s.innerHTML="";const d=document.createElement("div");d.classList.add("header");const c=document.createElement("div");c.classList.add("timer");const l=document.createElement("p");l.classList.add("timer__text"),l.textContent="min";const m=document.createElement("p");m.classList.add("timer__text","timer__text_sek"),m.textContent="sek";const u=document.createElement("p");u.classList.add("timer__count","timer__count_min"),u.textContent="00";const g=document.createElement("p");g.classList.add("timer__count"),g.textContent=".";const h=document.createElement("p");h.classList.add("timer__count","timer__count_sek"),h.textContent="00";const C=document.createElement("div");C.classList.add("attempts");const f=document.createElement("div");f.classList.add("attempt");const _=document.createElement("div");_.classList.add("attempt");const y=document.createElement("div");y.classList.add("attempt");const b=document.createElement("button");b.classList.add("button"),b.textContent="Начать заново";const v=document.createElement("div");v.classList.add("cards-container"),s.appendChild(d),d.appendChild(c),c.appendChild(l),c.appendChild(m),c.appendChild(u),c.appendChild(g),c.appendChild(h),d.appendChild(C),C.appendChild(f),C.appendChild(_),C.appendChild(y),d.appendChild(b),s.appendChild(v),function(e){e.style.width="645px",e.style.height=133*window.app.level+15*(window.app.level-1)+"px";for(let t=0;t<6*window.app.level;t++){const t=document.createElement("div");t.classList.add("card"),t.style.background="#c2f5ff",e.appendChild(t)}}(v),function(s){const d=t(s.slice()).splice(0,3*window.app.level);window.app.cardsForCurrentGame=t(e(d)),function(e){let t=document.querySelectorAll(".card");for(let n=0;n<t.length;n++)t[n].innerHTML=i(e[n]),t[n].style.transform="rotateY(-180deg) scale(-1, 1)"}(window.app.cardsForCurrentGame),window.app.stopwatch=setInterval(n,1e3,window.app),window.app.delay=setTimeout(a,window.app.cardDisplayTime+window.app.cardDisplayTimeDelay*(window.app.level-1)),function(){const e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e[t].innerHTML=i(window.app.cardsForCurrentGame[t]),e[t].style.transform="rotateY(180deg) scale(-1, 1)",window.app.userCards[0]||window.app.userTargets.includes(t)||(window.app.userCards[0]=window.app.cardsForCurrentGame[t].name,window.app.userTargets.push(t)),window.app.userCards[0]&&!window.app.userTargets.includes(t)&&(window.app.userCards[1]=window.app.cardsForCurrentGame[t].name,window.app.userTargets.push(t),window.app.userCards[0]!==window.app.userCards[1]&&(window.app.userCards=[],window.app.userTargets=[],window.app.guessedPairs=[],document.querySelectorAll(".attempt")[window.app.attempts].style.background="#c14a00",window.app.attempts++,3===window.app.attempts&&setTimeout(r,window.app.commonDelay),setTimeout(a,window.app.commonDelay)),window.app.userCards.length>0&&window.app.userCards[0]===window.app.userCards[1]&&(window.app.guessedPairs.includes(window.app.userCards[0])||window.app.guessedPairs.push(window.app.userCards[0]),window.app.userCards=[],window.app.guessedPairs.length===3*window.app.level&&(clearInterval(window.app.stopwatch),setTimeout(o,window.app.commonDelay))))}))}()}(p),b.addEventListener("click",(()=>{s.innerHTML="",w(s)}))}const l=JSON.parse('[{"name":"car-yellow","img":"img/img-child/car-yellow.jpg"},{"name":"car-red","img":"img/img-child/car-red.jpg"},{"name":"car-vspysh","img":"img/img-child/car-vspysh.jpg"},{"name":"car-green","img":"img/img-child/car-green.jpg"},{"name":"unicorn-pink","img":"img/img-child/unicorn-pink.jpg"},{"name":"unicorn-color","img":"img/img-child/unicorn-color.jpg"},{"name":"unicorn-green","img":"img/img-child/unicorn-green.jpg"},{"name":"unicorn-butterfly","img":"img/img-child/unicorn-butterfly.jpg"},{"name":"unicorn-blue","img":"img/img-child/unicorn-blue.jpg"}]');function m(a){window.app.userTimeSekMin=[0,0],window.app.guessedPairs=[],window.app.userCards=[],window.app.userTargets=[],window.app.attempts=0,clearTimeout(window.app.delay),clearInterval(window.app.stopwatch),a.innerHTML="";const d=document.createElement("div");d.classList.add("header");const i=document.createElement("div");i.classList.add("timer");const r=document.createElement("p");r.classList.add("timer__text"),r.textContent="min";const p=document.createElement("p");p.classList.add("timer__text","timer__text_sek"),p.textContent="sek";const c=document.createElement("p");c.classList.add("timer__count","timer__count_min"),c.textContent="00";const m=document.createElement("p");m.classList.add("timer__count"),m.textContent=".";const u=document.createElement("p");u.classList.add("timer__count","timer__count_sek"),u.textContent="00",document.createElement("div").classList.add("attempts"),document.createElement("div").classList.add("attempt"),document.createElement("div").classList.add("attempt"),document.createElement("div").classList.add("attempt");const g=document.createElement("button");g.classList.add("button"),g.textContent="Начать заново";const h=document.createElement("div");h.classList.add("cards-container-child"),a.appendChild(d),d.appendChild(i),i.appendChild(r),i.appendChild(p),i.appendChild(c),i.appendChild(m),i.appendChild(u),d.appendChild(g),a.appendChild(h),function(e){document.querySelector(".cards-container-child").classList.add(`cards-container-child_${window.app.level}`);for(let t=0;t<6*window.app.level;t++){const t=document.createElement("div");t.classList.add("card"),t.style.background="#c2f5ff",e.appendChild(t)}let t,n,a=120;"1"===window.app.level&&(a=150,t=3,n=2),"2"===window.app.level&&(t=4,n=3),"3"===window.app.level&&(t=6,n=3),e.style.width=t*a+15*(t-1)+"px",e.style.height=n*a+15*(n-1)+"px"}(h),function(a){const d=t(a.slice()).splice(0,3*window.app.level);window.app.cardsForCurrentGame=t(e(d)),function(e){let t=document.querySelectorAll(".card");for(let n=0;n<t.length;n++)t[n].innerHTML=`<img class="img-child" src="./../${e[n].img}" alt="${e[n].name}" />`,t[n].style.transform="rotateY(-180deg) scale(-1, 1)"}(window.app.cardsForCurrentGame),window.app.stopwatch=setInterval(n,1e3,window.app),window.app.delay=setTimeout(s,window.app.cardDisplayTime+2*window.app.cardDisplayTimeDelay*(window.app.level-1)),function(){const e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e[t].innerHTML=`<img class="img-child" src="${window.app.cardsForCurrentGame[t].img}" alt="${window.app.cardsForCurrentGame[t].name}" />`,e[t].style.transform="rotateY(180deg) scale(-1, 1)",window.app.userCards[0]||window.app.userTargets.includes(t)||(window.app.userCards[0]=window.app.cardsForCurrentGame[t].name,window.app.userTargets.push(t)),window.app.userCards[0]&&!window.app.userTargets.includes(t)&&(window.app.userCards[1]=window.app.cardsForCurrentGame[t].name,window.app.userTargets.push(t),window.app.userCards[0]!==window.app.userCards[1]&&(window.app.userCards=[],window.app.userTargets=[],window.app.guessedPairs=[],setTimeout(s,window.app.commonDelay)),window.app.userCards.length>0&&window.app.userCards[0]===window.app.userCards[1]&&(window.app.guessedPairs.includes(window.app.userCards[0])||window.app.guessedPairs.push(window.app.userCards[0]),window.app.userCards=[],window.app.guessedPairs.length===3*window.app.level&&(clearInterval(window.app.stopwatch),setTimeout(o,window.app.commonDelay))))}))}()}(l),g.addEventListener("click",(()=>{a.innerHTML="",w(a)}))}function u(a){window.app.userTimeSekMin=[0,0],window.app.guessedPairs=[],window.app.userCards=[],window.app.userTargets=[],window.app.attempts=0,clearTimeout(window.app.delay),clearInterval(window.app.stopwatch),a.innerHTML="";const s=document.createElement("div");s.classList.add("header");const i=document.createElement("div");i.classList.add("timer");const r=document.createElement("p");r.classList.add("timer__text"),r.textContent="min";const p=document.createElement("p");p.classList.add("timer__text","timer__text_sek"),p.textContent="sek";const c=document.createElement("p");c.classList.add("timer__count","timer__count_min"),c.textContent="00";const l=document.createElement("p");l.classList.add("timer__count"),l.textContent=".";const m=document.createElement("p");m.classList.add("timer__count","timer__count_sek"),m.textContent="00",document.createElement("div").classList.add("attempts"),document.createElement("div").classList.add("attempt"),document.createElement("div").classList.add("attempt"),document.createElement("div").classList.add("attempt");const u=document.createElement("button");u.classList.add("button"),u.textContent="Начать заново";const g=document.createElement("div");g.classList.add("cards-container-baby"),a.appendChild(s),s.appendChild(i),i.appendChild(r),i.appendChild(p),i.appendChild(c),i.appendChild(l),i.appendChild(m),s.appendChild(u),a.appendChild(g),function(e){document.querySelector(".cards-container-baby").classList.add(`cards-container-baby_${window.app.level}`);const t=Number(window.app.level)+1,n=2*t;"1"===window.app.level&&(document.querySelector(".timer").style.marginRight="70px");for(let t=0;t<n;t++){const t=document.createElement("div");t.classList.add("card","card_baby"),t.style.background="#dddddd",e.appendChild(t)}e.style.width=150*t+15*(t-1)+"px",e.style.height="315px"}(g),function(){const a=t(["#d92519","#fff500","#194888","#02913f"]).splice(0,Number(window.app.level)+1);window.app.cardsForCurrentGame=t(e(a)),function(){let e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].style.background=`${window.app.cardsForCurrentGame[t]}`,e[t].style.border="10px solid #ffffff",e[t].style.transform="rotateY(-180deg) scale(-1, 1)"}(),window.app.stopwatch=setInterval(n,1e3,window.app),window.app.delay=setTimeout(d,window.app.cardDisplayTime),function(){const e=document.querySelectorAll(".card");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{e[t].style.transform="rotateY(180deg) scale(-1, 1)",e[t].style.background=`${window.app.cardsForCurrentGame[t]}`,e[t].style.border="10px solid #ffffff",window.app.userCards[0]||window.app.userTargets.includes(t)||(window.app.userCards[0]=window.app.cardsForCurrentGame[t],window.app.userTargets.push(t)),window.app.userCards[0]&&!window.app.userTargets.includes(t)&&(window.app.userCards[1]=window.app.cardsForCurrentGame[t],window.app.userTargets.push(t),window.app.userCards[0]!==window.app.userCards[1]&&(window.app.userCards=[],window.app.userTargets=[],window.app.guessedPairs=[],setTimeout(d,window.app.commonDelay)),window.app.userCards.length>0&&window.app.userCards[0]===window.app.userCards[1]&&(window.app.guessedPairs.includes(window.app.userCards[0])||window.app.guessedPairs.push(window.app.userCards[0]),window.app.userCards=[],window.app.guessedPairs.length===Number(window.app.level)+1&&(clearInterval(window.app.stopwatch),setTimeout(o,window.app.commonDelay))))}))}()}(),u.addEventListener("click",(()=>{a.innerHTML="",w(a)}))}function w(e){window.app.userTimeSekMin=[0,0],window.app.guessedPairs=[],window.app.userCards=[],window.app.userTargets=[],window.app.attempts=0,clearTimeout(window.app.delay),clearInterval(window.app.stopwatch),e.innerHTML="";const t=document.createElement("form");t.classList.add("form","form__start");const n=document.createElement("h2");n.classList.add("h2-title"),n.textContent="Выберите сложность";const a=document.createElement("div");a.classList.add("difficulty"),e.appendChild(t),t.appendChild(n),t.appendChild(a);for(let e=0;e<3;e++){const t=document.createElement("input");t.classList.add("difficulty__level","radio"),t.type="radio",t.id=`level${e+1}`,t.name="difficulty",t.value=`${e+1}`;const n=document.createElement("label");n.classList.add("difficulty__level_label","label"),n.setAttribute("for",`level${e+1}`),n.textContent=`${e+1}`,a.appendChild(t),a.appendChild(n)}const s=document.createElement("div");s.classList.add("buttons-container"),t.appendChild(s);const d=document.createElement("button");d.classList.add("difficulty__button","button"),d.type="submit",d.textContent="Старт",s.appendChild(d);const i=document.createElement("button");i.classList.add("difficulty__button","difficulty__button_change-age","button"),i.type="button",i.textContent="На главную",s.appendChild(i);const o=document.querySelectorAll(".difficulty__level"),r=document.querySelectorAll(".difficulty__level_label");o.forEach((e=>{e.addEventListener("click",(()=>{d.textContent="Старт",d.style.background="#7ac100",r.forEach((e=>{e.style.background="#ffffff",e.style.color="#0080c1"})),r[Number(e.value)-1].style.background="#0080c1",r[Number(e.value)-1].style.color="#ffffff"}))})),t.addEventListener("submit",(t=>{t.preventDefault();for(let t=0;t<o.length;t++){if(o[t].checked){window.app.level=o[t].value,0===Number(window.app.age)&&u(e),1===Number(window.app.age)&&m(e),2===Number(window.app.age)&&c(e);break}d.textContent="Выберите уровень!",d.style.background="#c14a00"}})),i.addEventListener("click",(()=>{g(e)}))}function g(e){window.app.userTimeSekMin=[0,0],window.app.guessedPairs=[],window.app.userCards=[],window.app.userTargets=[],window.app.attempts=0,clearTimeout(window.app.delay),clearInterval(window.app.stopwatch),e.innerHTML="";const t=document.createElement("form");t.classList.add("form","form__hello");const n=document.createElement("h2");n.classList.add("h2-title"),n.textContent="Ваш возраст?";const a=document.createElement("div");a.classList.add("age"),e.appendChild(t),t.appendChild(n),t.appendChild(a);for(let e=0;e<3;e++){const t=document.createElement("input");t.classList.add("user__age","radio"),t.type="radio",t.id=`userAge${e}`,t.name="userAge",t.value=`${e}`;const n=document.createElement("label");n.classList.add("user__age_label","label"),n.setAttribute("for",`userAge${e}`),a.appendChild(t),a.appendChild(n)}const s=document.querySelectorAll(".user__age_label");s[0].innerHTML="0+",s[1].textContent="3+",s[2].textContent="7+";const d=document.createElement("button");d.classList.add("age__button","button"),d.textContent="Играть",t.appendChild(d);const i=document.querySelectorAll(".user__age"),o=document.querySelectorAll(".user__age_label");i.forEach((e=>{e.addEventListener("click",(()=>{d.textContent="Играть",d.style.background="#7ac100",o.forEach((e=>{e.style.background="#ffffff",e.style.color="#0080c1"})),o[Number(e.value)].style.background="#0080c1",o[Number(e.value)].style.color="#ffffff"}))})),t.addEventListener("submit",(t=>{t.preventDefault();for(let t=0;t<i.length;t++){if(i[t].checked){window.app.age=i[t].value,w(e);break}d.textContent="Вы не выбрали возраст!",d.style.background="#c14a00"}}))}document.addEventListener("DOMContentLoaded",(()=>{window.app={userTimeSekMin:[0,0],cardsForCurrentGame:[],userCards:[],userTargets:[],guessedPairs:[],attempts:0,commonDelay:400,cardDisplayTime:5e3,cardDisplayTimeDelay:1e3},g(document.querySelector(".screen-container"))}))})();